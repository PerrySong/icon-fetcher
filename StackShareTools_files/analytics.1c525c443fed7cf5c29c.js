(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/home/circleci/frontend/node_modules/babel-loader/lib/index.js!/home/circleci/frontend/app/analytics.js 966ce71f0f0b773f3240bdfd75972996":function(e,n,t){"use strict";t.r(n);var i=function(e){return new Promise(function(n,t){var i=window.analytics=window.analytics||[];if(i.initialize)t("Segment already initialized.");else if(i.invoked)t("Segment snippet included twice.");else{i.invoked=!0,i.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],i.factory=function(e){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(e),i.push(n),i}};for(var a=0;a<i.methods.length;a++){var o=i.methods[a];i[o]=i.factory(o)}i.load=function(e,n){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a),i._loadOptions=n},i.SNIPPET_VERSION="4.1.0",i.load(e),n(i)}})};function a(e,n){var t=!1;return function(){t||(e.call(),t=!0,setTimeout(function(){t=!1},n))}}var o=function(e){var n=!1,t=!1,i=!1,o=0,r=new Date,c=null,d=null,s=10,l=30;function u(){(document.hidden||document.webkitHidden)&&w()}function f(){var a,o;i||(n||(a=new Date,n=!0,o=a-r,e.track("activityTracker.firstInteraction",{category:"Timing",label:"First Interaction",value:o}),c=setInterval(m,1e3)),t&&(t=!1,clearInterval(c),c=setInterval(m,1e3)),clearTimeout(d),d=setTimeout(w,1e3*l+100))}function w(){clearTimeout(d),t=!0,clearInterval(c)}function m(){var n;++o>0&&o%s==0&&(n=o,e.track("activityTracker.timeSpent",{category:"Timing",label:n,value:s}))}"undefined"!=typeof document&&(document.addEventListener("keydown",f),document.addEventListener("click",f),document.addEventListener("mousemove",a(f,500)),document.addEventListener("scroll",a(f,500)),document.addEventListener("visibilityChange",u),document.addEventListener("webkitvisibilitychange",u))},r=t("/home/circleci/frontend/node_modules/debug/src/browser.js")("analytics");r("installing global tracking functions..."),window.trackEvent=function(e,n){if(window.analytics)try{JSON.stringify(n),window.analytics.track(e,n)}catch(e){console.warn("Invalid payload",n)}},window.trackPage=function(e,n){if(window.analytics)try{JSON.stringify(n),window.analytics.page(e,n)}catch(e){console.warn("Invalid payload",n)}},"undefined"!=typeof window&&window.env.SEGMENT_KEY&&(r("initializing Segment..."),i(window.env.SEGMENT_KEY).then(function(e){r("Segment ready",e),window._PAGE?(r("setting page context",window._PAGE.name,window._PAGE.properties),e.page(window._PAGE.name,window._PAGE.properties)):e.page(),r("installing ActivityTracker..."),document.addEventListener("DOMContentLoaded",function(){return o(e)}),r("fetching user properties..."),fetch("/user_properties.json?current_path=".concat(window.location.pathname)).then(function(e){if(e.ok)return e.json();throw new Error("Error fetching user properties, response not OK")}).then(function(n){r("identifying analytics user",n),e.identify(n.id,n)}).catch(function(e){return r(e.message)})}))},"multi ./app/analytics.js":function(e,n,t){e.exports=t("/home/circleci/frontend/node_modules/babel-loader/lib/index.js!/home/circleci/frontend/app/analytics.js 966ce71f0f0b773f3240bdfd75972996")}},[["multi ./app/analytics.js",2,0,1]]]);
//# sourceMappingURL=analytics.1c525c443fed7cf5c29c.js.map